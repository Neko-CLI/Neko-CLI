(function(_0x400583,_0x12386a){const _0x24ad4d=a0_0x5a09,_0x115ad0=_0x400583();while(!![]){try{const _0x541960=parseInt(_0x24ad4d(0x106))/0x1*(-parseInt(_0x24ad4d(0xf0))/0x2)+-parseInt(_0x24ad4d(0x117))/0x3*(parseInt(_0x24ad4d(0x126))/0x4)+parseInt(_0x24ad4d(0x100))/0x5*(-parseInt(_0x24ad4d(0x140))/0x6)+parseInt(_0x24ad4d(0x10c))/0x7+parseInt(_0x24ad4d(0xf5))/0x8+parseInt(_0x24ad4d(0x12c))/0x9*(parseInt(_0x24ad4d(0x139))/0xa)+parseInt(_0x24ad4d(0x12f))/0xb;if(_0x541960===_0x12386a)break;else _0x115ad0['push'](_0x115ad0['shift']());}catch(_0x4b7546){_0x115ad0['push'](_0x115ad0['shift']());}}}(a0_0x49cf,0xe254d));const a0_0xce9dc=(function(){let _0xb2d20c=!![];return function(_0x4c6a8d,_0xbc6edc){const _0x4f1d14=_0xb2d20c?function(){if(_0xbc6edc){const _0x4c8a06=_0xbc6edc['apply'](_0x4c6a8d,arguments);return _0xbc6edc=null,_0x4c8a06;}}:function(){};return _0xb2d20c=![],_0x4f1d14;};}()),a0_0x41c461=a0_0xce9dc(this,function(){const _0x5c0af3=a0_0x5a09,_0x1a3ed9={'ZHXda':'(((.+)+)+)+$'};return a0_0x41c461[_0x5c0af3(0x11a)]()[_0x5c0af3(0x123)](_0x1a3ed9['ZHXda'])[_0x5c0af3(0x11a)]()[_0x5c0af3(0x10a)](a0_0x41c461)['search'](_0x1a3ed9[_0x5c0af3(0x131)]);});a0_0x41c461();import a0_0xfa62ac from'chalk';function a0_0x5a09(_0x5d3887,_0x2f56d6){const _0x52932f=a0_0x49cf();return a0_0x5a09=function(_0x41c461,_0xce9dc){_0x41c461=_0x41c461-0xde;let _0x49cf66=_0x52932f[_0x41c461];return _0x49cf66;},a0_0x5a09(_0x5d3887,_0x2f56d6);}import{execAsync}from'../utils/execUtils.js';import a0_0xc66e31 from'fs-extra';function a0_0x49cf(){const _0x3a491f=['VSMwV','gray','Publishing\x20to\x20Yarn\x20registry...','‚ùå\x20Invalid\x20publish\x20platform\x20specified.\x20Use\x20\x27npm\x27,\x20\x27yarn\x27,\x20or\x20\x27meow\x27.','ysrPx','message','start','9584370ZMFcVm','default','‚ùå\x20package.json\x20not\x20found\x20in\x20the\x20current\x20directory.\x20Cannot\x20publish.','log','yarn\x20publish','includes','RXuuU','1290174qbRXlB','SfTuR','data','meow','status','version','Agent','startsWith','‚ùå\x20Failed\x20to\x20publish\x20to\x20npm:\x20','yellow','Sllay','üö®\x20Error:\x20This\x20version\x20has\x20already\x20been\x20published.\x20Please\x20update\x20the\x20\x27version\x27\x20field\x20in\x20your\x20package.json.','requires\x20a\x20one-time\x20password','cwd','error','lItkl','jrdub','\x20--otp=\x22','üö®\x20Error:\x20Two-factor\x20authentication\x20is\x20enabled.\x20Use\x20`meow\x20publish\x20npm\x20--otp=<your-otp-code>`.','WkEUZ','206qhZoLb','TrVDs','Failed\x20to\x20publish\x20to\x20NekoCLI\x20custom\x20registry:\x20','already\x20exists','package.json','7274880WCWzfN','--otp=','üöÄ\x20Attempting\x20to\x20publish\x20package\x20to:\x20','WEBFz','cyan','Publishing\x20to\x20npm...','You\x20cannot\x20publish\x20over\x20the\x20previously\x20published\x20versions','TlsFD','Package\x20published\x20to\x20NekoCLI\x20custom\x20registry\x20successfully!\x20Status:\x20','name','‚ö†Ô∏è\x20Remember\x20to\x20increment\x20the\x20version\x20number\x20in\x20your\x20package.json\x20before\x20each\x20new\x20publication!','40DLRsnG','zQqwn','succeed','...','NbfBv','red','1628yJQMSf','registry','stdout','Package\x20published\x20to\x20npm\x20successfully!','constructor','NeVAq','315847hlygqD','yarn','JprOp','application/octet-stream','nPYod','FwzuX','Two\x20factor\x20authentication\x20enabled','stderr','Failed\x20to\x20publish\x20to\x20NekoCLI\x20custom\x20registry.\x20Status:\x20','‚ö†Ô∏è\x20Not\x20logged\x20in\x20to\x20npm.\x20Please\x20run\x20\x27npm\x20login\x27\x20first.','/-/','9OROPDt','qxdsO','response','toString','üö®\x20Error:\x20Two-factor\x20authentication\x20is\x20enabled.\x20Use\x20`meow\x20publish\x20yarn\x20--otp=<your-otp-code>`\x20to\x20provide\x20the\x20OTP.','npm\x20whoami','find','TbarT','npm','put','join','gMDWz','search','.tgz','stringify','677944bhquPj','PUyOL','fail','npm\x20publish','statusText','publishConfig','9jplZno','‚ùå\x20Failed\x20to\x20publish\x20to\x20Yarn\x20registry:\x20','split','15515599frsUrW','njjEh','ZHXda'];a0_0x49cf=function(){return _0x3a491f;};return a0_0x49cf();}import a0_0x5358f4 from'ora';import a0_0x138b44 from'axios';import a0_0x41bc3f from'path';import a0_0x3d702b from'https';const {readJson,existsSync}=a0_0xc66e31,checkNpmLoginStatus=async()=>{const _0x12ec71=a0_0x5a09,_0x2b1620={'zQqwn':function(_0x219818,_0x55bad7){return _0x219818(_0x55bad7);},'sADYf':_0x12ec71(0x11c),'WEBFz':function(_0x398432,_0x211693){return _0x398432!==_0x211693;}};try{const {stdout:_0x914976}=await _0x2b1620[_0x12ec71(0x101)](execAsync,_0x2b1620['sADYf']);return _0x2b1620[_0x12ec71(0xf8)](_0x914976['trim'](),'');}catch(_0x3e1c1a){return![];}},publishToNpm=async(_0x3dbdb2,_0x280388)=>{const _0x1223b8=a0_0x5a09,_0x43c2ce={'QHDYG':function(_0x3cfd80,_0x5bb9f9){return _0x3cfd80(_0x5bb9f9);},'qxdsO':_0x1223b8(0xfa),'njjEh':_0x1223b8(0x129),'lItkl':function(_0xa3f48b,_0x260cbf,_0x15d4a8){return _0xa3f48b(_0x260cbf,_0x15d4a8);},'FwzuX':_0x1223b8(0x109),'otvjf':_0x1223b8(0xfb),'JprOp':_0x1223b8(0x112),'SfTuR':_0x1223b8(0xe8),'gMDWz':_0x1223b8(0xee)},_0x266eb7=_0x43c2ce['QHDYG'](a0_0x5358f4,a0_0xfa62ac[_0x1223b8(0xf9)](_0x43c2ce[_0x1223b8(0x118)]))[_0x1223b8(0x138)]();let _0x47340b=_0x43c2ce[_0x1223b8(0x130)];_0x280388&&(_0x47340b+='\x20--otp=\x22'+_0x280388+'\x22');try{const {stdout:_0x465b31,stderr:_0x19ff10}=await _0x43c2ce[_0x1223b8(0xeb)](execAsync,_0x47340b,{'cwd':_0x3dbdb2});_0x266eb7[_0x1223b8(0x102)](a0_0xfa62ac[_0x1223b8(0xf9)](_0x43c2ce[_0x1223b8(0x111)])),console[_0x1223b8(0x13c)](a0_0xfa62ac[_0x1223b8(0x133)](_0x465b31));if(_0x19ff10)console['error'](a0_0xfa62ac['yellow'](_0x19ff10));return!![];}catch(_0x48772c){_0x266eb7[_0x1223b8(0x128)](a0_0xfa62ac['red'](_0x1223b8(0xe4)+_0x48772c['message']));if(_0x48772c['stderr']){if(_0x48772c[_0x1223b8(0x113)][_0x1223b8(0x13e)](_0x43c2ce['otvjf']))console['error'](a0_0xfa62ac[_0x1223b8(0x105)]('üö®\x20Error:\x20This\x20version\x20has\x20already\x20been\x20published.\x20Please\x20update\x20the\x20\x27version\x27\x20field\x20in\x20your\x20package.json.'));else _0x48772c['stderr']['includes'](_0x43c2ce[_0x1223b8(0x10e)])||_0x48772c[_0x1223b8(0x113)][_0x1223b8(0x13e)](_0x43c2ce[_0x1223b8(0x141)])?console['error'](a0_0xfa62ac[_0x1223b8(0x105)](_0x43c2ce[_0x1223b8(0x122)])):console['error'](a0_0xfa62ac[_0x1223b8(0x105)](_0x48772c[_0x1223b8(0x113)]));}if(_0x48772c[_0x1223b8(0x108)])console[_0x1223b8(0xea)](a0_0xfa62ac[_0x1223b8(0x105)](_0x48772c['stdout']));return![];}},publishToYarn=async(_0x2542b8,_0x1f3eea)=>{const _0x2bf7c0=a0_0x5a09,_0x1aef06={'bIrdO':_0x2bf7c0(0x13d),'DUpjl':_0x2bf7c0(0x112),'QMqhG':_0x2bf7c0(0x11b),'XVuWm':_0x2bf7c0(0xf3),'ysrPx':_0x2bf7c0(0xe7)},_0x5147dd=a0_0x5358f4(a0_0xfa62ac[_0x2bf7c0(0xf9)](_0x2bf7c0(0x134)))[_0x2bf7c0(0x138)]();let _0x24c637=_0x1aef06['bIrdO'];_0x1f3eea&&(_0x24c637+=_0x2bf7c0(0xed)+_0x1f3eea+'\x22');try{const {stdout:_0x536c59,stderr:_0x51ec12}=await execAsync(_0x24c637,{'cwd':_0x2542b8});_0x5147dd[_0x2bf7c0(0x102)](a0_0xfa62ac[_0x2bf7c0(0xf9)]('Package\x20published\x20to\x20Yarn\x20registry\x20successfully!')),console['log'](a0_0xfa62ac[_0x2bf7c0(0x133)](_0x536c59));if(_0x51ec12)console[_0x2bf7c0(0xea)](a0_0xfa62ac[_0x2bf7c0(0xe5)](_0x51ec12));return!![];}catch(_0x1f64b6){_0x5147dd[_0x2bf7c0(0x128)](a0_0xfa62ac[_0x2bf7c0(0x105)](_0x2bf7c0(0x12d)+_0x1f64b6[_0x2bf7c0(0x137)]));if(_0x1f64b6[_0x2bf7c0(0x113)]){if(_0x1f64b6[_0x2bf7c0(0x113)][_0x2bf7c0(0x13e)]('Can\x27t\x20answer\x20a\x20question\x20unless\x20a\x20user\x20TTY')&&_0x1f64b6[_0x2bf7c0(0x113)][_0x2bf7c0(0x13e)](_0x1aef06['DUpjl']))console[_0x2bf7c0(0xea)](a0_0xfa62ac[_0x2bf7c0(0x105)](_0x1aef06['QMqhG']));else _0x1f64b6['stderr'][_0x2bf7c0(0x13e)](_0x1aef06['XVuWm'])||_0x1f64b6[_0x2bf7c0(0x113)][_0x2bf7c0(0x13e)](_0x2bf7c0(0xfb))?console[_0x2bf7c0(0xea)](a0_0xfa62ac[_0x2bf7c0(0x105)](_0x1aef06[_0x2bf7c0(0x136)])):console[_0x2bf7c0(0xea)](a0_0xfa62ac[_0x2bf7c0(0x105)](_0x1f64b6['stderr']));}if(_0x1f64b6['stdout'])console[_0x2bf7c0(0xea)](a0_0xfa62ac[_0x2bf7c0(0x105)](_0x1f64b6[_0x2bf7c0(0x108)]));return![];}},publishToMeowRegistry=async _0x460365=>{const _0x49e2d7=a0_0x5a09,_0xf6a638={'TrVDs':function(_0x51f779,_0x55f6fd){return _0x51f779(_0x55f6fd);},'RXuuU':function(_0xbe779e,_0x373351){return _0xbe779e(_0x373351);},'jrdub':'Custom\x20\x27meow\x27\x20registry\x20URL\x20not\x20configured\x20in\x20package.json\x20(publishConfig.registry)\x20or\x20NEKO_REGISTRY_URL\x20environment\x20variable.','rxUkq':function(_0x3110c0,_0x3fa0ba){return _0x3110c0||_0x3fa0ba;},'PUyOL':'package.json\x20must\x20have\x20\x27name\x27\x20and\x20\x27version\x27\x20fields\x20for\x20custom\x20registry\x20publish.','NbfBv':function(_0x2b9101,_0x1d066f,_0x1666ce){return _0x2b9101(_0x1d066f,_0x1666ce);},'nPYod':function(_0x261e8e,_0x3a3eef){return _0x261e8e<_0x3a3eef;},'hyuwK':_0x49e2d7(0xf4),'TlsFD':function(_0x57a185,_0x53b0a7){return _0x57a185(_0x53b0a7);}},_0x25bd1e=_0xf6a638[_0x49e2d7(0xf1)](a0_0x5358f4,a0_0xfa62ac[_0x49e2d7(0xf9)]('Publishing\x20to\x20NekoCLI\x20custom\x20registry...'))[_0x49e2d7(0x138)]();try{const _0x594896=await _0xf6a638[_0x49e2d7(0x13f)](readJson,a0_0x41bc3f[_0x49e2d7(0x121)](_0x460365,_0x49e2d7(0xf4))),_0x38fd99=_0x594896[_0x49e2d7(0xfe)],_0x182695=_0x594896[_0x49e2d7(0xe1)],_0x481792=_0x594896[_0x49e2d7(0x12b)]?.[_0x49e2d7(0x107)]||process['env']['NEKO_REGISTRY_URL'];if(!_0x481792)return _0x25bd1e[_0x49e2d7(0x128)](a0_0xfa62ac[_0x49e2d7(0x105)](_0xf6a638[_0x49e2d7(0xec)])),![];if(_0xf6a638['rxUkq'](!_0x38fd99,!_0x182695))return _0x25bd1e['fail'](a0_0xfa62ac[_0x49e2d7(0x105)](_0xf6a638[_0x49e2d7(0x127)])),![];const _0x5a3972=a0_0x41bc3f[_0x49e2d7(0x121)](_0x460365,_0x38fd99+'-'+_0x182695+_0x49e2d7(0x124));await _0xf6a638[_0x49e2d7(0x104)](execAsync,'npm\x20pack\x20--pack-destination\x20\x22'+_0x460365+'\x22',{'cwd':_0x460365});if(!existsSync(_0x5a3972))return _0x25bd1e['fail'](a0_0xfa62ac['red']('Failed\x20to\x20create\x20tarball\x20at\x20'+_0x5a3972+'.')),![];const _0x6bd674=a0_0xc66e31['readFileSync'](_0x5a3972),_0x1d0517=new a0_0x3d702b[(_0x49e2d7(0xe2))]({'rejectUnauthorized':![]}),_0x5ab2b3=await a0_0x138b44[_0x49e2d7(0x120)](_0x481792+'/'+_0x38fd99+_0x49e2d7(0x116)+_0x38fd99+'-'+_0x182695+_0x49e2d7(0x124),_0x6bd674,{'headers':{'Content-Type':_0x49e2d7(0x10f)},'httpsAgent':_0x1d0517});return _0x5ab2b3['status']>=0xc8&&_0xf6a638[_0x49e2d7(0x110)](_0x5ab2b3['status'],0x12c)?(_0x25bd1e[_0x49e2d7(0x102)](a0_0xfa62ac[_0x49e2d7(0xf9)](_0x49e2d7(0xfd)+_0x5ab2b3[_0x49e2d7(0xe0)])),!![]):(_0x25bd1e[_0x49e2d7(0x128)](a0_0xfa62ac['red'](_0x49e2d7(0x114)+_0x5ab2b3[_0x49e2d7(0xe0)]+',\x20Message:\x20'+_0x5ab2b3[_0x49e2d7(0x12a)])),![]);}catch(_0xe499f7){_0x25bd1e['fail'](a0_0xfa62ac[_0x49e2d7(0x105)](_0x49e2d7(0xf2)+_0xe499f7[_0x49e2d7(0x137)]));if(_0xe499f7[_0x49e2d7(0x119)]?.[_0x49e2d7(0xde)])console[_0x49e2d7(0xea)](a0_0xfa62ac['red'](JSON[_0x49e2d7(0x125)](_0xe499f7[_0x49e2d7(0x119)][_0x49e2d7(0xde)],null,0x2)));return![];}finally{const _0x52edfe=await _0xf6a638[_0x49e2d7(0x13f)](readJson,a0_0x41bc3f[_0x49e2d7(0x121)](_0x460365,_0xf6a638['hyuwK'])),_0x115fe7=_0x52edfe[_0x49e2d7(0xfe)],_0x216b83=_0x52edfe[_0x49e2d7(0xe1)],_0xce0c57=a0_0x41bc3f[_0x49e2d7(0x121)](_0x460365,_0x115fe7+'-'+_0x216b83+_0x49e2d7(0x124));_0xf6a638[_0x49e2d7(0xfc)](existsSync,_0xce0c57)&&a0_0xc66e31['removeSync'](_0xce0c57);}};export const handlePublishCommand=async(_0x3979a6,_0x185598)=>{const _0x1f57a8=a0_0x5a09,_0x12aa39={'tPiyz':function(_0x50a24c,_0x436580){return _0x50a24c||_0x436580;},'Wjxup':_0x1f57a8(0x13a),'WkEUZ':_0x1f57a8(0xf4),'MyRMN':function(_0x1bead2,_0x30892c){return _0x1bead2(_0x30892c);},'DgGbI':_0x1f57a8(0x13b),'TbarT':_0x1f57a8(0x11f),'NeVAq':_0x1f57a8(0xdf),'Sllay':function(_0x1021c2,_0x1caf54){return _0x1021c2(_0x1caf54);},'VSMwV':_0x1f57a8(0x135),'HeLbE':_0x1f57a8(0xff)};console[_0x1f57a8(0x13c)](a0_0xfa62ac[_0x1f57a8(0xf9)](_0x1f57a8(0xf7)+_0x12aa39['tPiyz'](_0x3979a6,_0x12aa39['Wjxup'])+_0x1f57a8(0x103)));const _0x561546=process[_0x1f57a8(0xe9)](),_0x15deb3=a0_0x41bc3f[_0x1f57a8(0x121)](_0x561546,_0x12aa39[_0x1f57a8(0xef)]);if(!_0x12aa39['MyRMN'](existsSync,_0x15deb3)){console[_0x1f57a8(0xea)](a0_0xfa62ac['red'](_0x12aa39['DgGbI']));return;}const _0x45770d=_0x185598[_0x1f57a8(0x11d)](_0x2d28f7=>_0x2d28f7[_0x1f57a8(0xe3)](_0x1f57a8(0xf6))),_0x4bf1db=_0x45770d?_0x45770d[_0x1f57a8(0x12e)]('=')[0x1]:null;switch(_0x3979a6){case _0x12aa39[_0x1f57a8(0x11e)]:const _0x195722=await checkNpmLoginStatus();if(!_0x195722){console['warn'](a0_0xfa62ac[_0x1f57a8(0xe5)](_0x1f57a8(0x115)));return;}await publishToNpm(_0x561546,_0x4bf1db);break;case _0x1f57a8(0x10d):await publishToYarn(_0x561546,_0x4bf1db);break;case _0x12aa39[_0x1f57a8(0x10b)]:await _0x12aa39[_0x1f57a8(0xe6)](publishToMeowRegistry,_0x561546);break;default:console['error'](a0_0xfa62ac[_0x1f57a8(0x105)](_0x12aa39[_0x1f57a8(0x132)]));break;}console['log'](a0_0xfa62ac[_0x1f57a8(0xe5)](_0x12aa39['HeLbE']));};